<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}">Dashboard</title>
    <style>
        .stats-container { display: flex; gap: 20px; margin-bottom: 30px; }
        .card { border: 1px solid #ccc; padding: 20px; border-radius: 8px; flex: 1; }
        .recent-orders { margin-top: 20px; width: 100%; border-collapse: collapse; }
        .recent-orders th, .recent-orders td { border: 1px solid #ddd; padding: 8px; text-align: left; }
    </style>
</head>
<body>
<h1 th:text="${pageTitle}">Dashboard</h1>

<div class="stats-container">
    <div class="card">
        <h4>Tổng người dùng</h4>
        <h2 th:text="${dashboard.totalUsers}">0</h2> </div>
    <div class="card">
        <h4>Tổng đơn hàng</h4>
        <h2 th:text="${dashboard.totalOrders}">0</h2> </div>
    <div class="card">
        <h4>Tổng doanh thu</h4>
        <h2 th:text="${#numbers.formatDecimal(dashboard.totalRevenue, 1, 'COMMA', 2, 'POINT')} + ' $'">0.00 $</h2>
    </div>
</div>

<div style="display: flex; gap: 40px;">
    <div style="flex: 2;">
        <h3>Đơn hàng mới nhất</h3>
        <table class="recent-orders">
            <thead>
            <tr>
                <th>Mã đơn</th>
                <th>Khách hàng</th>
                <th>Trạng thái</th>
                <th>Ngày tạo</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="order : ${dashboard.recentOrders}">
                <td th:text="${order.orderNumber}">ORD-123</td>
                <td th:text="${order.customerName}">Nguyễn Văn A</td>
                <td>
                    <span th:text="${order.status}" th:class="${order.status}">Pending</span>
                </td>
                <td th:text="${#temporals.format(order.createdAt, 'dd-MM-yyyy HH:mm')}">15-01-2024</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div style="flex: 1;">
        <h3>Hoạt động gần đây</h3>
        <ul style="list-style: none; padding: 0;">
            <li th:each="activity : ${dashboard.recentActivities}" style="margin-bottom: 15px; border-bottom: 1px solid #eee;">
                <strong th:text="${activity.type}">Hệ thống</strong>
                <p th:text="${activity.message}" style="margin: 5px 0;">Thông báo nội dung ở đây</p> <small th:text="${#temporals.format(activity.createdAt, 'HH:mm dd/MM/yyyy')}">14:00 15/01</small>
            </li>
        </ul>
    </div>
</div>

</body>
</html>